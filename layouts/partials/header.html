{{ $page := . }}
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="{{ .Site.BaseURL }}" title="Home">
      {{ if .Site.Params.logo }}<img src="{{ .Site.Params.logo | relURL }}" class="dib db-l h2 w-auto" alt="{{ .Site.Title }}">{{ else }}<span class="f4 fw7">{{ .Site.Title }}</span>{{ end }}
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l {{ if $.Site.Params.navallcaps }}ttu tracked{{ end }}">
      {{ range .Site.Menus.header }}
        {{ $active := or ($page.IsMenuCurrent "header" .) ($page.HasMenuCurrent "header" .) }}
        {{ $active = or $active (eq $page.RelPermalink .URL ) }}
      <a class="link f6 f5-l dib pv1 ph2 {{ if $active }}active{{ end }}" href="{{ .URL }}" title="{{ .Title }}">{{ .Name }}</a>
      {{ end }}
      {{ if .Site.Params.socialInHeader }}
      <div class="dib v-mid">
        {{ partial "shared/social-links.html" . }}
      </div>
      {{ end }}
    </div>
  </nav>
</header>

<!-- 搜索模态框 -->
<div id="search-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 9999; align-items: flex-start; justify-content: center; padding-top: 10vh;">
  <div style="background: white; border-radius: 8px; width: 90%; max-width: 700px; max-height: 80vh; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
    <div style="padding: 1rem; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 1rem;">
      <input type="text" id="search-input" placeholder="搜索博客文章...（按 Ctrl+F 打开/关闭，ESC 关闭）" style="flex: 1; padding: 0.75rem 1rem; border: 2px solid #165DFF; border-radius: 4px; font-size: 1rem; outline: none;" />
      <span id="search-count" style="color: #999; font-size: 0.9rem; white-space: nowrap;"></span>
    </div>
    <div id="search-results" style="padding: 1rem; max-height: calc(80vh - 80px); overflow-y: auto;"></div>
  </div>
</div>

<script src="{{ "js/search.js" | relURL }}"></script>

